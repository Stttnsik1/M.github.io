<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style type="text/css">
    body {
        background-color: #292828;
        color: #ffffff;
        font-family: Arial, sans-serif;
        margin: 0; /* Убираем отступы по умолчанию у body */
    }

    section {
        margin-top: 7px; /* Отступ сверху */
    }

    nav {
        margin: 20px auto; /* Добавляем отступы сверху и снизу, а также центрируем по горизонтали */
        padding: 10px;
        border: 2px solid rgb(44, 44, 44);
        border-radius: 10px;
        background-color: #414040;
        color: #ffffff;
        max-width: 80%; /* Устанавливаем максимальную ширину */
        margin-top: 0px; /* Отступ сверху */
    }
    p {
        text-align: center;
    }

    button.floating-button {
        display: block;
        margin: 10px auto;
        border: none;
        border-radius: 5px;
        padding: 10px 20px;
        background-color: #0000CD;
        color: white;
        font-size: 16px;
        cursor: pointer;
    }

    h1 {
        font-size: 1.8em;
        text-align: center;
    }

    img {
        max-width: 100%;
        height: auto;
    }
    #content {
  width: 500px; /* Ширина слоя */
  margin: 0 auto 50px; /* Выравнивание по центру */
    }
    #footer {
  position: fixed; /* Фиксированное положение */
  right: 0; top: 0; /* Левый нижний угол */
  padding: 10px; /* Поля вокруг текста */
  background: #444444; /* Цвет фона */
  color: #fff; /* Цвет текста */
  width: 100%; /* Ширина слоя */
  height: 10%;
}
body {
margin-top: 100px;
}
h3 {
font-family: Arial;
font-size: 30px;
position: fixed;
margin: 12px
}
input {
    margin: 20px auto;
            padding: 10px;
            border: 1px solid rgb(92, 92, 92);
            border-radius: 15px;
            background-color: #414040;
            color: #ffffff;
            max-width: 80%; 
            margin-top: 0px;
}
</style>
</head>

<div id="footer"><h3>PresaleCoin</h3></div>


<script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
<div id="ton-connect" style="position: fixed; top: 3%; right: 5%"></div>
<script>
    const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
        manifestUrl: 'https://raw.githubusercontent.com/purplemeth/presalebot/main/tonconnect-manifest.json',
        buttonRootId: 'ton-connect'
    });

    // This variable will hold the transaction object
    let transaction = {};

    // Function to create and update the transaction object
    function updateTransaction(amount) {
        transaction = {
            validUntil: Math.round(Date.now() / 1000) + 10,
            messages: [
                {
                    address: "UQBQ3GE8djotFZNWqLWz0cgSAE9j37c82Ll3yLqPKZes1goR",
                    amount: amount
                }
            ]
        };
    }

    // Function to send the transaction
    async function sendTransaction() {
        try {
            const result = await tonConnectUI.sendTransaction(transaction);
            // Обработка результата транзакции
            if (result.success) {
                console.log("Transaction sent successfully!");
                alert("Transaction sent successfully!"); 
            } else {
                console.error("Transaction failed:", result.error);
                alert("Transaction failed. Please try again later.");
            }
        } catch (e) {
            console.error("Error sending transaction:", e);
            alert("An error occurred during transaction. Please try again later.");
        }
    }

    // Event listener for the input field
    document.getElementById("TON").addEventListener('input', function() {
        const input = parseFloat(this.value);
        if (!isNaN(input) && input > 0) {
            updateTransaction(input); // Update the transaction object
            // Вызов sendTransaction() после обновления transaction
            sendTransaction();
        } else {
            console.log("Invalid input.");
        }
    });

</script> 



<strong><h2>Presale:</h2></strong>



<body>
<nav>
<strong>Active  <img src="https://i.postimg.cc/Nf7sPYx2/png-transparent-circle-green-circle-color-grass-sphere-thumbnail.png" width="12" height="12"></strong><br>
  <center><img src="https://i.postimg.cc/0ydsPWk3/2616-A84-A-8238-44-E0-B09-B-CB9-EF6843-D81.png" width="75" height="75" alt="Logo"></center>
  <strong><p>XBuyCrypto(XBC)</p></strong>
  <strong><p>1 XBC = 0.01 TON</p></strong>
  <strong><p>Soft cap 1000 TON</p></strong>
  
  <nav>
    <strong><p>Liquidity Pool: 75%</p></strong>
    <strong><p>Offered: 100,000 XBC</p></strong>
  </nav>

  <strong><p>Progress (0%) 0/1000 TON</p></strong>
  <center><progress max="100" value="50">Загружено на <span id="value">0%</span></progress></center>
  <center><input id="TON"></center>
  <button type="button" class="floating-button" onclick="sendTransaction()"><strong>Buy Token</button></strong>
  </form>
</nav>
</body>

<nav>
<strong>No Active  <img src="https://i.postimg.cc/657qFJPZ/pngtree-circle-clipart-gray-circle-png-image-2381994.png" width="12" height="12"></strong><br>
  <center><img src="https://i.postimg.cc/QCZbCcwt/photo-2024-02-24-19-29-37.png" width="75" height="75" alt="Logo"></center>
  <strong><p>MATVEY JETTON</p></strong>
  <strong><p>1 MATVEY = 0.003 TON</p></strong>
  <strong><p>Soft cap 100 TON</p></strong>
  
  <nav>
    <strong><p>Liquidity Pool: 100%</p></strong>
    <strong><p>Offered: 10,000 MATVEY</p></strong>
  </nav>

  <strong><p>Progress (50%) 50/100 TON</p></strong>
  <center><progress max="100" value="50">Загружено на <span id="value">50%</span></progress></center>
  <center><button type="submit" class="floating-button"><strong>Buy Token</strong></button></center>
</nav>
</html> 
